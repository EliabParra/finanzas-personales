<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Finanzas Personales</title>
    <link rel="stylesheet" href="src/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Secci√≥n de Navegaci√≥n Principal -->
        <nav class="header">
            <a href="dashboard.html" class="nav-item active"><i class="fas fa-home"></i> Dashboard</a>
            <a href="transacciones.html" class="nav-item"><i class="fas fa-exchange-alt"></i> Transacciones</a>
            <a href="categorias.html" class="nav-item"><i class="fas fa-tags"></i> Categor√≠as</a>
            <a href="presupuestos.html" class="nav-item"><i class="fas fa-chart-pie"></i> Presupuestos</a>
            <a href="analisis.html" class="nav-item"><i class="fas fa-chart-line"></i> An√°lisis</a>
        </nav>

        <!-- Secci√≥n de Resumen Mensual -->
        <div class="card" data-aos="fade-up">
            <div class="card-header">
                <h2 class="card-title">Resumen del Mes ‚ú®</h2>
                <button class="btn" id="openTransactionModalBtn"><i class="fas fa-plus-circle"></i> Nueva Transacci√≥n</button>
            </div>
            <div class="summary-grid">
                <div class="summary-card summary-income">
                    <i class="fas fa-arrow-alt-circle-down summary-icon"></i> <!-- Icono para ingresos -->
                    <span class="summary-label">Ingresos</span>
                    <span class="summary-amount">$1,500.00</span>
                </div>
                <div class="summary-card summary-expense">
                    <i class="fas fa-arrow-alt-circle-up summary-icon"></i> <!-- Icono para egresos -->
                    <span class="summary-label">Gastos</span>
                    <span class="summary-amount">$850.00</span>
                </div>
                <div class="summary-card summary-balance">
                    <i class="fas fa-wallet summary-icon"></i> <!-- Icono para balance -->
                    <span class="summary-label">Balance</span>
                    <span class="summary-amount">$650.00</span>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Transacciones Recientes -->
        <div class="card" data-aos="fade-up" data-aos-delay="100">
            <div class="card-header">
                <h2 class="card-title">Transacciones Recientes üìà</h2>
                <!-- Aqu√≠ podr√≠as tener un bot√≥n para ver todas las transacciones -->
            </div>
            <ul class="transactions-list">
                <li class="transaction-item">
                    <div class="transaction-icon-wrapper">
                        <i class="fas fa-shopping-cart" style="color: #FF7043;"></i> <!-- Icono de compras -->
                    </div>
                    <div class="transaction-details">
                        <div class="transaction-description">Compras del supermercado</div>
                        <div class="transaction-category-date">Alimentaci√≥n ‚Ä¢ 05 Jul, 2025</div>
                    </div>
                    <div class="transaction-amount expense">-$75.50</div>
                    <button class="delete-transaction-btn" data-transaction-id="1">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </li>
                <li class="transaction-item">
                    <div class="transaction-icon-wrapper">
                        <i class="fas fa-briefcase" style="color: #66BB6A;"></i> <!-- Icono de trabajo -->
                    </div>
                    <div class="transaction-details">
                        <div class="transaction-description">Pago de n√≥mina</div>
                        <div class="transaction-category-date">Ingresos ‚Ä¢ 01 Jul, 2025</div>
                    </div>
                    <div class="transaction-amount income">+$1,500.00</div>
                    <button class="delete-transaction-btn" data-transaction-id="2">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </li>
                <li class="transaction-item">
                    <div class="transaction-icon-wrapper">
                        <i class="fas fa-film" style="color: #26C6DA;"></i> <!-- Icono de ocio -->
                    </div>
                    <div class="transaction-details">
                        <div class="transaction-description">Entradas de cine</div>
                        <div class="transaction-category-date">Ocio ‚Ä¢ 03 Jul, 2025</div>
                    </div>
                    <div class="transaction-amount expense">-$25.00</div>
                    <button class="delete-transaction-btn" data-transaction-id="3">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </li>
                <li class="transaction-item">
                    <div class="transaction-icon-wrapper">
                        <i class="fas fa-gas-pump" style="color: #AB47BC;"></i> <!-- Icono de gasolina -->
                    </div>
                    <div class="transaction-details">
                        <div class="transaction-description">Gasolina para el coche</div>
                        <div class="transaction-category-date">Transporte ‚Ä¢ 02 Jul, 2025</div>
                    </div>
                    <div class="transaction-amount expense">-$40.00</div>
                    <button class="delete-transaction-btn" data-transaction-id="4">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <!-- MODAL PARA AGREGAR NUEVA TRANSACCI√ìN -->
    <div class="modal-overlay" id="transactionModal">
        <div class="modal-content">
            <button class="modal-close-btn" id="closeTransactionModalBtn">&times;</button>
            <h3 class="modal-title">Nueva Transacci√≥n üí∏</h3>
            <form id="newTransactionForm">
                <div class="form-group">
                    <label for="transactionType">Tipo de Transacci√≥n</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="transactionType" value="income" checked> Ingreso
                        </label>
                        <label>
                            <input type="radio" name="transactionType" value="expense"> Egreso
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="amount">Monto</label>
                    <input type="number" id="amount" placeholder="Ej: 50.00" step="0.01" required>
                </div>
                <div class="form-group">
                    <label for="date">Fecha</label>
                    <input type="date" id="date" value="2025-07-11" required>
                </div>
                <div class="form-group">
                    <label for="category">Categor√≠a</label>
                    <select id="category" required>
                        <option value="">Selecciona una categor√≠a</option>
                        <option value="alimentacion">Alimentaci√≥n</option>
                        <option value="transporte">Transporte</option>
                        <option value="ocio">Ocio</option>
                        <option value="servicios">Servicios</option>
                        <option value="salud">Salud</option>
                        <option value="educacion">Educaci√≥n</option>
                        <option value="otros">Otros</option>
                        <!-- Las categor√≠as personalizadas se a√±adir√≠an aqu√≠ din√°micamente -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="description">Descripci√≥n (opcional)</label>
                    <input type="text" id="description" placeholder="Ej: Cena con amigos">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-cancel" id="cancelTransactionBtn">Cancelar</button>
                    <button type="submit" class="btn">Guardar Transacci√≥n</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Script para AOS (animaciones) -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        // Inicializar AOS
        AOS.init({
            duration: 800, // Duraci√≥n de la animaci√≥n en ms
            once: true,    // Si las animaciones deben ocurrir solo una vez
        });

        // JavaScript para la interactividad b√°sica de la navegaci√≥n (ejemplo)
        document.addEventListener('DOMContentLoaded', () => {
            const navItems = document.querySelectorAll('.nav-item');
            const openTransactionModalBtn = document.getElementById('openTransactionModalBtn');
            const transactionModal = document.getElementById('transactionModal');
            const closeTransactionModalBtn = document.getElementById('closeTransactionModalBtn');
            const cancelTransactionBtn = document.getElementById('cancelTransactionBtn');
            const newTransactionForm = document.getElementById('newTransactionForm');
            const deleteButtons = document.querySelectorAll('.delete-transaction-btn');

            // L√≥gica de navegaci√≥n (existente)
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    // e.preventDefault();
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    console.log(`Navegando a: ${item.textContent.trim()}`);
                });
            });

            // L√≥gica para abrir el modal de transacci√≥n
            openTransactionModalBtn.addEventListener('click', () => {
                transactionModal.classList.add('show');
            });

            // L√≥gica para cerrar el modal de transacci√≥n
            closeTransactionModalBtn.addEventListener('click', () => {
                transactionModal.classList.remove('show');
                newTransactionForm.reset(); // Limpiar el formulario al cerrar
            });

            cancelTransactionBtn.addEventListener('click', () => {
                transactionModal.classList.remove('show');
                newTransactionForm.reset(); // Limpiar el formulario al cancelar
            });

            // Cerrar el modal al hacer clic fuera del contenido
            transactionModal.addEventListener('click', (e) => {
                if (e.target === transactionModal) {
                    transactionModal.classList.remove('show');
                    newTransactionForm.reset();
                }
            });

            // L√≥gica para el env√≠o del formulario de nueva transacci√≥n (placeholder)
            newTransactionForm.addEventListener('submit', (e) => {
                e.preventDefault(); // Evitar el env√≠o por defecto del formulario
                const type = document.querySelector('input[name="transactionType"]:checked').value;
                const amount = document.getElementById('amount').value;
                const date = document.getElementById('date').value;
                const category = document.getElementById('category').value;
                const description = document.getElementById('description').value;

                console.log('Nueva Transacci√≥n:', { type, amount, date, category, description });

                // Aqu√≠ ir√≠a tu l√≥gica para guardar la transacci√≥n (IndexedDB, etc.)
                // Despu√©s de guardar, podr√≠as cerrar el modal y actualizar la lista de transacciones
                transactionModal.classList.remove('show');
                newTransactionForm.reset(); // Limpiar el formulario
                alert('Transacci√≥n guardada con √©xito (simulado)! Revisa la consola para los datos.');
            });

            // L√≥gica para los botones de eliminar transacci√≥n (placeholder)
            deleteButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const transactionId = e.currentTarget.dataset.transactionId;
                    // Aqu√≠ ir√≠a tu l√≥gica para confirmar y eliminar la transacci√≥n
                    const confirmDelete = confirm(`¬øEst√°s seguro de que quieres eliminar la transacci√≥n ${transactionId}? (Simulado)`);
                    if (confirmDelete) {
                        console.log(`Eliminando transacci√≥n con ID: ${transactionId}`);
                        // Aqu√≠ podr√≠as remover el elemento del DOM y luego eliminarlo de IndexedDB
                        e.currentTarget.closest('.transaction-item').remove();
                        alert(`Transacci√≥n ${transactionId} eliminada (simulado)!`);
                    }
                });
            });

            // Establecer la fecha actual por defecto en el input de fecha del modal
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0'); // Meses son 0-index
            const day = String(today.getDate()).padStart(2, '0');
            document.getElementById('date').value = `${year}-${month}-${day}`;
        });
    </script>
</body>
</html>
